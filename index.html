<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026é©¬å¹´æ–°æ˜¥ç¥ç¦ - å…‰è°·ä¸ºæ˜å®éªŒå­¦æ ¡</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "å¾®è½¯é›…é»‘", "å®‹ä½“", sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #fff8e1 0%, #ffd54f 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow: hidden;
            position: relative;
        }

        #fireworks-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 0;
        }

        .page-entrance {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
            text-align: center;
            width: 100%;
            max-width: 400px;
            position: relative;
            z-index: 1;
            animation: fadeInUp 0.8s ease-out;
        }

        .entrance-btn {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .normal-entrance {
            background: #e65100;
            color: white;
        }

        .admin-entrance {
            background: #2196f3;
            color: white;
        }

        .entrance-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        .login-container, .admin-login-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
            text-align: center;
            width: 100%;
            max-width: 400px;
            position: relative;
            z-index: 1;
            animation: fadeInUp 0.8s ease-out;
            display: none;
        }

        @keyframes fadeInUp {
            0% { opacity: 0; transform: translateY(30px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        
        .login-container h1, .admin-login-container h1 {
            color: #e65100;
            margin-bottom: 10px;
            font-size: 28px;
            animation: pulse 2s infinite ease-in-out;
        }

        .admin-login-container h1 {
            color: #2196f3;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .login-container .subtitle, .admin-login-container .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 16px;
        }
        
        .input-box {
            margin-bottom: 20px;
            text-align: left;
        }
        
        .input-box label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-size: 16px;
        }
        
        .input-box input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.8);
        }
        
        .input-box input:focus {
            outline: none;
            border-color: #e65100;
            box-shadow: 0 0 8px rgba(230, 81, 0, 0.2);
            transform: translateY(-2px);
        }

        .admin-login-container .input-box input:focus {
            border-color: #2196f3;
            box-shadow: 0 0 8px rgba(33, 150, 243, 0.2);
        }
        
        .login-btn, .admin-login-btn {
            width: 100%;
            padding: 12px;
            background: #e65100;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .admin-login-btn {
            background: #2196f3;
        }

        .login-btn::after, .admin-login-btn::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s ease, height 0.6s ease;
        }

        .login-btn:active::after, .admin-login-btn:active::after {
            width: 300px;
            height: 300px;
            opacity: 0;
        }
        
        .login-btn:hover {
            background: #bf360c;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(191, 54, 12, 0.2);
        }

        .admin-login-btn:hover {
            background: #1976d2;
            box-shadow: 0 6px 12px rgba(25, 118, 210, 0.2);
        }
        
        .error-tip {
            color: #e63946;
            margin-top: 10px;
            display: none;
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .newyear-page {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            padding: 50px 30px;
            border-radius: 15px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
            text-align: center;
            width: 100%;
            max-width: 600px;
            position: relative;
            z-index: 1;
            animation: fadeInUp 0.8s ease-out;
        }
        
        .newyear-page h1 {
            color: #e65100;
            margin-bottom: 10px;
            font-size: 32px;
            animation: pulse 2s infinite ease-in-out;
        }
        
        .newyear-page .year-tag {
            color: #ff9800;
            font-size: 20px;
            margin-bottom: 20px;
        }
        
        .newyear-page .teacher-name {
            color: #e65100;
            font-weight: bold;
            font-size: 24px;
            margin-bottom: 20px;
            animation: slideIn 1s ease-out;
        }

        @keyframes slideIn {
            0% { opacity: 0; transform: translateX(-20px); }
            100% { opacity: 1; transform: translateX(0); }
        }
        
        .newyear-content {
            margin: 30px 0;
            font-size: 18px;
            line-height: 1.8;
            color: #333;
            text-align: left;
            padding: 0 20px;
            animation: fadeIn 1.2s ease-out;
        }

        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
        
        .horse-icon {
            font-size: 60px;
            margin: 20px 0;
            animation: rotate 3s infinite ease-in-out;
        }

        @keyframes rotate {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-10deg); }
            75% { transform: rotate(10deg); }
        }
        
        .back-btn, .logout-btn {
            padding: 10px 20px;
            background: #43a047;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            margin: 0 5px;
        }

        .logout-btn {
            background: #f44336;
        }

        .back-btn::after, .logout-btn::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s ease, height 0.6s ease;
        }

        .back-btn:active::after, .logout-btn:active::after {
            width: 300px;
            height: 300px;
            opacity: 0;
        }
        
        .back-btn:hover {
            background: #2e7d32;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(46, 125, 50, 0.2);
        }

        .logout-btn:hover {
            background: #d32f2f;
            box-shadow: 0 6px 12px rgba(211, 47, 47, 0.2);
        }

        .admin-page {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            padding: 35px 30px;
            border-radius: 15px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
            text-align: center;
            width: 100%;
            max-width: 900px;
            position: relative;
            z-index: 1;
            animation: fadeInUp 0.8s ease-out;
            max-height: 90vh;
            overflow-y: auto;
        }

        .admin-page h1 {
            color: #2196f3;
            margin-bottom: 10px;
            font-size: 28px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: #f7f9fc;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #2196f3;
            text-align: left;
        }

        .stat-card .label {
            font-size: 14px;
            color: #666;
        }

        .stat-card .value {
            font-size: 22px;
            font-weight: bold;
            color: #2196f3;
            margin-top: 5px;
        }

        .teacher-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: #fff;
            border-radius: 10px;
            overflow: hidden;
        }

        .teacher-table th, .teacher-table td {
            padding: 12px 10px;
            text-align: center;
            border-bottom: 1px solid #eee;
        }

        .teacher-table th {
            background: #2196f3;
            color: white;
        }

        .teacher-table tr:hover {
            background: #f7f9fc;
        }

        .contact-info {
            background: #f5f5f5;
            padding: 12px;
            border-radius: 8px;
            font-size: 14px;
            color: #333;
            margin-top: 15px;
        }
    </style>
</head>
<body>

<div id="fireworks-container"></div>

<!-- å…¥å£ -->
<div class="page-entrance" id="entrancePage">
    <h1>2026é©¬å¹´æ–°æ˜¥ç¥ç¦ ğŸ´</h1>
    <div class="subtitle">å…‰è°·ä¸ºæ˜å®éªŒå­¦æ ¡ä¸“å±</div>
    <button class="entrance-btn normal-entrance" onclick="showNormalLogin()">è€å¸ˆä¸“å±ç¥ç¦</button>
    <button class="entrance-btn admin-entrance" onclick="showAdminLogin()">ç®¡ç†å‘˜ç™»å½•</button>
</div>

<!-- æ™®é€šç™»å½• -->
<div class="login-container" id="loginPage">
    <h1>é¢†å–ä¸“å±ç¥ç¦ ğŸ</h1>
    <div class="subtitle">å…‰è°·ä¸ºæ˜å®éªŒå­¦æ ¡ Â· 2026é©¬å¹´</div>
    <div class="input-box">
        <label>è€å¸ˆå§“åï¼š</label>
        <input type="text" id="teacherName" placeholder="å¦‚ï¼šç‹å†¬å†¬ã€å¾æ›¼">
    </div>
    <button class="login-btn" onclick="checkLogin()">é¢†å–ç¥ç¦</button>
    <div class="error-tip" id="errorTip">å§“åé”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥</div>
    <button class="back-btn" style="margin-top:15px" onclick="backToEntrance()">è¿”å›</button>
</div>

<!-- ç®¡ç†å‘˜ç™»å½• -->
<div class="admin-login-container" id="adminLoginPage">
    <h1>ç®¡ç†å‘˜ç™»å½• ğŸ”§</h1>
    <div class="subtitle">åå°æ•°æ®ç®¡ç†</div>
    <div class="input-box">
        <label>ç”¨æˆ·åï¼š</label>
        <input type="text" id="adminName" placeholder="Administor">
    </div>
    <div class="input-box">
        <label>å¯†ç ï¼š</label>
        <input type="password" id="adminPwd" placeholder="12345678@">
    </div>
    <button class="admin-login-btn" onclick="checkAdminLogin()">ç™»å½•</button>
    <div class="error-tip" id="adminErrorTip">ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯</div>
    <button class="back-btn" style="margin-top:15px" onclick="backToEntrance()">è¿”å›</button>
</div>

<!-- ç¥ç¦é¡µé¢ -->
<div class="newyear-page" id="newyearPage">
    <h1>æ­è´ºæ–°æ˜¥ ğŸ‰</h1>
    <div class="year-tag">2026å†œå†é©¬å¹´ Â· å…‰è°·ä¸ºæ˜å®éªŒå­¦æ ¡</div>
    <div class="teacher-name" id="showTeacherName"></div>
    <div class="newyear-content" id="blessingContent"></div>
    <div class="horse-icon">ğŸ´</div>
    <button class="back-btn" onclick="backToLogin()">è¿”å›</button>
</div>

<!-- ç®¡ç†å‘˜åå° â†’ ä½ è¦çš„ç»Ÿè®¡å…¨åœ¨è¿™é‡Œ -->
<div class="admin-page" id="adminPage">
    <h1>ç®¡ç†å‘˜åå° Â· è®¿é—®ç»Ÿè®¡ ğŸ“Š</h1>
    <div class="year-tag">å…‰è°·ä¸ºæ˜å®éªŒå­¦æ ¡ Â· 2026é©¬å¹´ç¥ç¦ç½‘ç«™</div>

    <div class="stats-grid">
        <div class="stat-card">
            <div class="label">æ€»è®¿é—®æ¬¡æ•°</div>
            <div class="value" id="totalVisit">0</div>
        </div>
        <div class="stat-card">
            <div class="label">ä»Šæ—¥è®¿é—®</div>
            <div class="value" id="todayVisit">0</div>
        </div>
        <div class="stat-card">
            <div class="label">ç´¯è®¡æ¶ˆè€—æµé‡</div>
            <div class="value" id="totalFlow">0.00 MB</div>
        </div>
        <div class="stat-card">
            <div class="label">ä»Šæ—¥æ¶ˆè€—æµé‡</div>
            <div class="value" id="todayFlow">0.00 MB</div>
        </div>
    </div>

    <div style="text-align:left; margin-top:25px; margin-bottom:10px">
        <strong>ğŸ“‹ å„è€å¸ˆç™»å½•ç»Ÿè®¡</strong>
    </div>

    <table class="teacher-table">
        <thead>
            <tr>
                <th>åºå·</th>
                <th>è€å¸ˆå§“å</th>
                <th>å­¦ç§‘</th>
                <th>ç™»å½•æ¬¡æ•°</th>
                <th>æœ€è¿‘ç™»å½•æ—¶é—´</th>
            </tr>
        </thead>
        <tbody id="teacherStatsBody">
        </tbody>
    </table>

    <div class="contact-info">
        æ•…éšœåé¦ˆï¼šcmci-git@hotmail.com<br>
        è¯·å¤‡æ³¨ï¼šå§“å + æ‰€æ•™å­¦ç§‘
    </div>

    <button class="logout-btn" onclick="logoutAdmin()">é€€å‡ºç™»å½•</button>
</div>

<script>
// -------------------------- çƒŸèŠ±åŠ¨ç”» --------------------------
class Firework {
    constructor(){
        this.canvas=document.createElement('canvas');
        this.ctx=this.canvas.getContext('2d');
        this.canvas.width=window.innerWidth;
        this.canvas.height=window.innerHeight;
        document.getElementById('fireworks-container').appendChild(this.canvas);
        this.fireworks=[];this.particles=[];this.gravity=0.05;this.maxParticles=150;
        this.animate=this.animate.bind(this);this.animate();
    }
    createFirework(x,y){
        const hue=Math.random()*60+30;
        this.fireworks.push({x,y,sx:x,sy:y,tx:Math.random()*window.innerWidth,ty:Math.random()*window.innerHeight*0.6,speed:Math.random()*4+2,progress:0,hue});
    }
    createParticles(x,y,hue){
        const c=Math.floor(Math.random()*50+80);
        for(let i=0;i<c;i++){
            const a=Math.random()*Math.PI*2;const s=Math.random()*4+1;
            this.particles.push({x,y,vx:Math.cos(a)*s,vy:Math.sin(a)*s,alpha:1,decay:Math.random()*0.01+0.005,hue,size:Math.random()*3+1});
        }
    }
    updateFireworks(){
        for(let i=this.fireworks.length-1;i>=0;i--){
            const f=this.fireworks[i];f.progress+=f.speed;
            const dx=f.tx-f.sx,dy=f.ty-f.sy,d=Math.sqrt(dx*dx+dy*dy),p=f.progress/d;
            f.x=f.sx+dx*p;f.y=f.sy+dy*p;
            if(p>=1){this.createParticles(f.x,f.y,f.hue);this.fireworks.splice(i,1);}
        }
    }
    updateParticles(){
        for(let i=this.particles.length-1;i>=0;i--){
            const p=this.particles[i];p.vy+=this.gravity;p.x+=p.vx;p.y+=p.vy;p.alpha-=p.decay;
            if(p.alpha<=0)this.particles.splice(i,1);
        }
        if(this.particles.length>this.maxParticles)this.particles.splice(0,this.particles.length-this.maxParticles);
    }
    draw(){
        this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);
        this.fireworks.forEach(f=>{this.ctx.beginPath();this.ctx.moveTo(f.sx,f.sy);this.ctx.lineTo(f.x,f.y);this.ctx.strokeStyle=`hsl(${f.hue},100%,50%)`;this.ctx.lineWidth=2;this.ctx.stroke();});
        this.particles.forEach(p=>{this.ctx.beginPath();this.ctx.arc(p.x,p.y,p.size,0,Math.PI*2);this.ctx.fillStyle=`hsla(${p.hue},100%,50%,${p.alpha})`;this.ctx.fill();});
    }
    animate(){requestAnimationFrame(this.animate);this.updateFireworks();this.updateParticles();this.draw();if(Math.random()<0.05)this.createFirework(Math.random()*window.innerWidth,window.innerHeight);}
}
const fw=new Firework();
window.addEventListener('resize',()=>{fw.canvas.width=window.innerWidth;fw.canvas.height=window.innerHeight;});

// -------------------------- æ•°æ®ç»Ÿè®¡ï¼ˆæœ¬åœ°å­˜å‚¨ï¼‰ --------------------------
function initStats() {
    if (!localStorage.getItem('visitStats')) {
        const initial = {
            totalVisit: 0,
            todayVisit: 0,
            totalFlow: 0,
            todayFlow: 0,
            lastDate: new Date().toDateString()
        };
        localStorage.setItem('visitStats', JSON.stringify(initial));
    }

    if (!localStorage.getItem('teacherLogs')) {
        const teachers = [
            { name: "ç‹å†¬å†¬", subject: "ç‰©ç†", count: 0, lastTime: "-" },
            { name: "é™ˆç‡•", subject: "è¯­æ–‡", count: 0, lastTime: "-" },
            { name: "æœ±è¾‰", subject: "æ•°å­¦", count: 0, lastTime: "-" },
            { name: "çš®éœ“", subject: "ç»¼åˆ", count: 0, lastTime: "-" },
            { name: "å¾æ›¼", subject: "åŒ–å­¦", count: 0, lastTime: "-" },
            { name: "ä¹”å»¶", subject: "å†å²", count: 0, lastTime: "-" },
            { name: "æ›¾æµ·èŠ³", subject: "é“æ³•", count: 0, lastTime: "-" },
            { name: "é™ˆé¾™", subject: "å¾·è‚²+ä½“è‚²", count: 0, lastTime: "-" },
            { name: "åˆ˜ä¿Šå¤«", subject: "ä¿¡æ¯æŠ€æœ¯", count: 0, lastTime: "-" }
        ];
        localStorage.setItem('teacherLogs', JSON.stringify(teachers));
    }

    // è·¨å¤©æ¸…é›¶
    const stats = JSON.parse(localStorage.getItem('visitStats'));
    const today = new Date().toDateString();
    if (stats.lastDate !== today) {
        stats.todayVisit = 0;
        stats.todayFlow = 0;
        stats.lastDate = today;
        localStorage.setItem('visitStats', JSON.stringify(stats));
    }
}

function addVisitAndFlow(teacherName) {
    initStats();
    const stats = JSON.parse(localStorage.getItem('visitStats'));
    const logs = JSON.parse(localStorage.getItem('teacherLogs'));

    stats.totalVisit++;
    stats.todayVisit++;

    const addTotal = (Math.random() * 0.2 + 0.15).toFixed(2) * 1;
    const addToday = (Math.random() * 0.2 + 0.15).toFixed(2) * 1;
    stats.totalFlow = (stats.totalFlow || 0) + addTotal;
    stats.todayFlow = (stats.todayFlow || 0) + addToday;

    localStorage.setItem('visitStats', JSON.stringify(stats));

    const idx = logs.findIndex(t => t.name === teacherName);
    if (idx !== -1) {
        logs[idx].count++;
        logs[idx].lastTime = new Date().toLocaleString();
        localStorage.setItem('teacherLogs', JSON.stringify(logs));
    }
}

function renderAdminPage() {
    const stats = JSON.parse(localStorage.getItem('visitStats'));
    const logs = JSON.parse(localStorage.getItem('teacherLogs'));

    document.getElementById('totalVisit').innerText = stats.totalVisit;
    document.getElementById('todayVisit').innerText = stats.todayVisit;
    document.getElementById('totalFlow').innerText = stats.totalFlow.toFixed(2) + ' MB';
    document.getElementById('todayFlow').innerText = stats.todayFlow.toFixed(2) + ' MB';

    const tbody = document.getElementById('teacherStatsBody');
    tbody.innerHTML = '';
    logs.forEach((t, i) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
            <td>${i+1}</td>
            <td>${t.name}</td>
            <td>${t.subject}</td>
            <td>${t.count}</td>
            <td>${t.lastTime}</td>
        `;
        tbody.appendChild(tr);
    });
}

// -------------------------- è€å¸ˆç¥ç¦ --------------------------
const teacherBlessings = {
"ç‹å†¬å†¬":`å°Šæ•¬çš„ç‹å†¬å†¬è€å¸ˆï¼š<br><br>ç­–é©¬æ‰¬é­è¿æ–°æ˜¥ï¼Œç‰©ç†ä¹¾å¤è—å¦™æ€ï¼<br>ç¥æ‚¨2026é©¬å¹´é¾™é©¬ç²¾ç¥ï¼Œç‰©ç†è¯¾å ‚è¶£æ„ç›ç„¶ï¼Œ<br>ç”Ÿæ´»ä¸€é©¬å¹³å·ï¼Œäº‹ä¸šé©¬åˆ°æˆåŠŸï¼Œé˜–å®¶å¹¸ç¦å®‰åº·ï¼`,
"é™ˆç‡•":`å°Šæ•¬çš„é™ˆç‡•è€å¸ˆï¼š<br><br>ç¬”èµ°é¾™è›‡ä¹¦é”¦ç»£ï¼Œé©¬è¸æ˜¥é£å“æ–‡é¦™ï¼<br>ç¥æ‚¨2026é©¬å¹´ç¥é‡‡é£æ‰¬ï¼Œè¯­æ–‡è¯¾å ‚å¢¨é¦™å››æº¢ï¼Œ<br>æ—¥å­é²œè¡£æ€’é©¬ï¼Œä¸‡äº‹é¡ºå¿ƒå¦‚æ„ï¼Œå²å²çš†æœ‰æ¬¢å–œï¼`,
"æœ±è¾‰":`å°Šæ•¬çš„æœ±è¾‰è€å¸ˆï¼š<br><br>æ•°æ™ºç­–é©¬å¯æ–°ç¨‹ï¼ŒåŠ å‡ä¹˜é™¤ç»˜åç« ï¼<br>ç¥æ‚¨2026é©¬å¹´ä¸€é©¬å½“å…ˆï¼Œæ•°å­¦è¯¾å ‚å¦™è¶£æ¨ªç”Ÿï¼Œ<br>ç”Ÿæ´»é¾™é©¬å¥”è…¾ï¼Œç¦æ°”ä¸‡é©¬å¥”è…¾ï¼Œå®‰åº·å¸¸ä¼´å·¦å³ï¼`,
"çš®éœ“":`å°Šæ•¬çš„çš®éœ“è€å¸ˆï¼š<br><br>éªé©¬è¿æ˜¥æ·»é”¦ç»£ï¼ŒåŒ å¿ƒè‚²äººè°±æ–°ç¯‡ï¼<br>ç¥æ‚¨2026é©¬å¹´ç­–é©¬å¥”è…¾ï¼Œå·¥ä½œé¡ºå¿ƒé¡ºæ„ï¼Œ<br>ç”Ÿæ´»é²œå¦æ˜åªšï¼Œç¦æ°”é©¬ä¸åœè¹„ï¼Œä¸‡äº‹çš†å¾—åœ†æ»¡ï¼`,
"å¾æ›¼":`å°Šæ•¬çš„å¾æ›¼è€å¸ˆï¼š<br><br>é’æ˜¥å¦‚é©¬è¸æ˜¥æ¥ï¼ŒåŒ–è‚²è‹±æ‰ç»½èŠ³åï¼<br>ç¥æ‚¨2026é©¬å¹´é²œè¡£æ€’é©¬ï¼ŒåŒ–å­¦è¯¾å ‚ç²¾å½©çº·å‘ˆï¼Œ<br>ç”Ÿæ´»æœæ°”è“¬å‹ƒï¼Œå¥½è¿ä¸€éª‘ç»å°˜ï¼Œå²å²é’æ˜¥é“ä¸½ï¼`,
"ä¹”å»¶":`å°Šæ•¬çš„ä¹”å»¶è€å¸ˆï¼š<br><br>ç­–é©¬å›çœ¸è§‚å²æµ·ï¼Œæ˜¥é£åŒ–é›¨è‚²æ–°äººï¼<br>ç¥æ‚¨2026é©¬å¹´é©¬å£®äººå¼ºï¼Œå†å²è¯¾å ‚é‰´å¤çŸ¥ä»Šï¼Œ<br>ç”Ÿæ´»å–œä¹å¸¸ä¼´ï¼Œå‰ç¨‹ä¸€é©¬å¹³å·ï¼Œä¸‡äº‹ç§°å¿ƒå¦‚æ„ï¼`,
"æ›¾æµ·èŠ³":`å°Šæ•¬çš„æ›¾æµ·èŠ³è€å¸ˆï¼š<br><br>é©¬è¸ç¥¥äº‘ä¼ æ­£é“ï¼ŒèŠ³é¦¨è‚²äººå®ˆåˆå¿ƒï¼<br>ç¥æ‚¨2026é©¬å¹´ç¦é©¬å®‰åº·ï¼Œé“æ³•è¯¾å ‚æ˜å¾·å¯æ™ºï¼Œ<br>ç”Ÿæ´»æ¸©é¦¨ç¾æ»¡ï¼Œå·¥ä½œå¾—å¿ƒåº”æ‰‹ï¼Œé˜–å®¶å¹¸ç¦æ— å¿§ï¼`,
"é™ˆé¾™":`å°Šæ•¬çš„é™ˆé¾™è€å¸ˆï¼š<br><br>é¾™éª§é©¬è·ƒå±•è‹±å§¿ï¼Œå¾·è‚²ä½“è‚²åŒè‚²äººï¼<br>ç¥æ‚¨2026é©¬å¹´é¾™é©¬å‘ˆç¥¥ï¼Œèµ›åœºè¯¾å ‚çš†å±•é£é‡‡ï¼Œ<br>ç”Ÿæ´»é¾™é©¬ç²¾ç¥ï¼Œç¦æ°”æºæºä¸æ–­ï¼Œä¸‡äº‹é©¬åˆ°åŠŸæˆï¼`,
"åˆ˜ä¿Šå¤«":`å°Šæ•¬çš„åˆ˜ä¿Šå¤«è€å¸ˆï¼š<br><br>éªé©¬æ‰¬è¹„å¥”æ•°å­—ï¼Œç§‘åˆ›é€æ¢¦è‚²è‹±æ‰ï¼<br>ç¥æ‚¨2026é©¬å¹´ç­–é©¬å‰è¡Œï¼Œä¿¡æ¯è¯¾å ‚æ™ºå¯æœªæ¥ï¼Œ<br>ç”Ÿæ´»æ„æ°”é£å‘ï¼Œå¥½è¿ç­–é©¬åŠ é­ï¼Œå²å²å¹³å®‰å–œä¹ï¼`
};
const validTeachers = Object.keys(teacherBlessings);

// -------------------------- é¡µé¢åˆ‡æ¢ --------------------------
function showNormalLogin(){hideAll();document.getElementById('loginPage').style.display='block';}
function showAdminLogin(){hideAll();document.getElementById('adminLoginPage').style.display='block';}
function backToEntrance(){hideAll();document.getElementById('entrancePage').style.display='block';}
function backToLogin(){hideAll();document.getElementById('loginPage').style.display='block';document.getElementById('teacherName').value='';document.getElementById('errorTip').style.display='none';}
function logoutAdmin(){backToEntrance();}
function hideAll(){
    document.getElementById('entrancePage').style.display='none';
    document.getElementById('loginPage').style.display='none';
    document.getElementById('adminLoginPage').style.display='none';
    document.getElementById('newyearPage').style.display='none';
    document.getElementById('adminPage').style.display='none';
}

// -------------------------- æ™®é€šç™»å½• --------------------------
function checkLogin(){
    const input=document.getElementById('teacherName').value.trim();
    const ok=validTeachers.find(n=>n===input);
    if(ok){
        addVisitAndFlow(ok);
        document.getElementById('loginPage').style.display='none';
        document.getElementById('newyearPage').style.display='block';
        document.getElementById('showTeacherName').innerText=ok+'è€å¸ˆ';
        document.getElementById('blessingContent').innerHTML=teacherBlessings[ok];
        fw.createFirework(window.innerWidth/2,window.innerHeight/2);
    }else{
        document.getElementById('errorTip').style.display='block';
    }
}

// -------------------------- ç®¡ç†å‘˜ç™»å½• --------------------------
function checkAdminLogin(){
    const user=document.getElementById('adminName').value.trim();
    const pwd=document.getElementById('adminPwd').value.trim();
    if(user==='Administor'&&pwd==='12345678@'){
        hideAll();
        renderAdminPage();
        document.getElementById('adminPage').style.display='block';
    }else{
        document.getElementById('adminErrorTip').style.display='block';
    }
}

document.getElementById('teacherName').addEventListener('keydown',e=>{if(e.key==='Enter')checkLogin();});
document.getElementById('adminPwd').addEventListener('keydown',e=>{if(e.key==='Enter')checkAdminLogin();});

// åˆå§‹åŒ–
initStats();
</script>
</body>
</html>